<!--
  Title: signin.component.html
  Author: Professor Krasso and Brock Hemsouvanh
  Date: 8/5/23
  Updated: 07/21/2024 by Brock Hemsouvanh
  Description: HTML template for the Sign In Component
-->

<br>
<br>
<br>
<br>
<div class="login-container">
  <div class="login-card">
    <h2 class="login-title text-center fw-bold">User Sign In</h2>
    <hr>
    <br>
    <!-- Form for user sign in -->
    <form [formGroup]="signinForm" (ngSubmit)="signIn()">
      <div class="alert alert-danger" *ngIf="errMessage">
        {{ errMessage }}
      </div>

      <!-- Email Address part -->
      <div class="form-floating mb-3">
        <input
          type="email"
          class="form-control"
          id="email"
          placeholder="Email Address"
          formControlName="email"
        />
        <label for="email">Email Address</label>
        <!-- invalid feedback for email address -->
        <div *ngIf="signinForm.get('email')?.invalid && signinForm.get('email')?.touched">
          <small class="error" *ngIf="signinForm.get('email')?.errors?.['required']">Email is required.</small>
          <small class="error" *ngIf="signinForm.get('email')?.errors?.['email']">Invalid email address.</small>
        </div>
      </div>

      <!-- Password part -->
      <div class="form-floating mb-3">
        <input
          type="password"
          class="form-control"
          id="password"
          placeholder="Password"
          formControlName="password"
        />
        <label for="password">Password</label>
        <div *ngIf="signinForm.get('password')?.invalid && signinForm.get('password')?.touched">
          <small class="error" *ngIf="signinForm.get('password')?.errors?.['required']">Password is required.</small>
          <small class="error" *ngIf="signinForm.get('password')?.errors?.['minlength']">Password must be at least 6 characters long.</small>
          <small class="error" *ngIf="signinForm.get('password')?.errors?.['pattern']">Password must contain at least 8 characters, one uppercase letter, and one number.</small>
        </div>
      </div>

      <!-- Forgot password and reset password link part -->
      <div class="forgot-password py-2 float-end">
        <span id="forgot-password">
          <a routerLink="/forgot-password">Forgot password?</a>
        </span>
      </div>
      <br>

      <!-- button submit -->
      <div class="text-center mt-4">
        <button type="submit" class="btn bg-dark-blue btn-lg" [disabled]="signinForm.invalid">Sign In</button>
      </div>

      <!-- Sign In -->
      <div class="py-2">
        New to BCRS? <span id="sign-up"><a routerLink="/register">Sign Up</a></span>
      </div>
    </form>
  </div>
</div>
